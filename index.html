<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Mini Online Shop — Demo</title>
  <style>
    :root{--accent:#0ea5a4;--muted:#6b7280;--bg:#f8fafc}
    *{box-sizing:border-box}
    body{font-family:Inter,ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial; margin:0; background:var(--bg); color:#111}
    header{background:#fff;border-bottom:1px solid #e6e9ee;padding:16px 24px;display:flex;align-items:center;justify-content:space-between}
    .brand{display:flex;gap:12px;align-items:center}
    .logo{width:44px;height:44px;border-radius:8px;background:linear-gradient(135deg,var(--accent),#7dd3fc);display:flex;align-items:center;justify-content:center;color:white;font-weight:700}
    .search{flex:1;margin:0 24px}
    .search input{width:100%;padding:10px 14px;border-radius:10px;border:1px solid #e6e9ee}
    .container{display:grid;grid-template-columns:1fr 380px;gap:20px;padding:20px;max-width:1100px;margin:24px auto}
    .products{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px}
    .card{background:#fff;border-radius:12px;padding:14px;border:1px solid #eef2f6;display:flex;flex-direction:column;gap:10px}
    .card img{width:100%;height:160px;object-fit:cover;border-radius:8px}
    .title{font-weight:600}
    .price{color:var(--accent);font-weight:700}
    .actions{display:flex;gap:8px;margin-top:auto}
    button{cursor:pointer;padding:8px 10px;border-radius:8px;border:0;background:var(--accent);color:white;font-weight:600}
    button.secondary{background:transparent;border:1px solid #d1d5db;color:#111}
    .cart{background:#fff;border-radius:12px;padding:14px;border:1px solid #eef2f6;height:fit-content}
    .cart h3{margin:0 0 8px 0}
    .cart-list{display:flex;flex-direction:column;gap:10px;max-height:360px;overflow:auto;padding-right:6px}
    .cart-item{display:flex;gap:8px;align-items:center}
    .cart-item img{width:56px;height:56px;object-fit:cover;border-radius:8px}
    .qty{display:flex;align-items:center;gap:6px}
    .muted{color:var(--muted);font-size:13px}
    .total{display:flex;justify-content:space-between;align-items:center;margin-top:12px;font-weight:700}
    footer{max-width:1100px;margin:12px auto;text-align:center;color:var(--muted);font-size:13px}
    @media (max-width:900px){.container{grid-template-columns:1fr;padding:12px}.search{margin:0 8px}}
  </style>
</head>
<body>
  <header>
    <div class="brand">
      <div class="logo">OS</div>
      <div>
        <div style="font-weight:700">Mini Shop</div>
        <div class="muted" style="font-size:12px">Simple demo — add/remove products</div>
      </div>
    </div>
    <div class="search">
      <input id="searchInput" placeholder="Search products..." />
    </div>
    <div style="display:flex;gap:12px;align-items:center">
      <div class="muted">Items: <span id="cartCount">0</span></div>
      <button id="checkoutBtn">Checkout</button>
    </div>
  </header>

  <main class="container">
    <section>
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
        <h2 style="margin:0">Products</h2>
        <div class="muted" id="resultInfo">Showing 0 items</div>
      </div>
      <div class="products" id="productGrid"></div>
    </section>

    <aside class="cart">
      <h3>Your Cart</h3>
      <div class="cart-list" id="cartList"></div>
      <div class="total">
        <div class="muted">Total</div>
        <div id="cartTotal">₹0.00</div>
      </div>
      <div style="margin-top:12px;display:flex;gap:8px">
        <button id="clearCart" class="secondary">Clear</button>
        <button id="placeOrder">Place Order</button>
      </div>
    </aside>
  </main>

  <footer>Demo shop — not connected to payment gateway. Built for learning.</footer>

  <script>
    // Sample product data
    const products = [
      {id:1,name:'Classic White T‑Shirt',price:299,image:'https://via.placeholder.com/400x300?text=T-Shirt'},
      {id:2,name:'Blue Denim Jeans',price:1299,image:'https://via.placeholder.com/400x300?text=Jeans'},
      {id:3,name:'Running Sneakers',price:2399,image:'https://via.placeholder.com/400x300?text=Sneakers'},
      {id:4,name:'Casual Hoodie',price:999,image:'https://via.placeholder.com/400x300?text=Hoodie'},
      {id:5,name:'Leather Wallet',price:499,image:'https://via.placeholder.com/400x300?text=Wallet'},
      {id:6,name:'Analog Watch',price:1999,image:'https://via.placeholder.com/400x300?text=Watch'}
    ];

    const state = {
      cart: {},
      query: ''
    };

    const productGrid = document.getElementById('productGrid');
    const cartList = document.getElementById('cartList');
    const cartTotal = document.getElementById('cartTotal');
    const cartCount = document.getElementById('cartCount');
    const searchInput = document.getElementById('searchInput');
    const resultInfo = document.getElementById('resultInfo');

    function formatPrice(n){ return '₹' + n.toFixed(2); }

    function renderProducts(){
      const q = state.query.trim().toLowerCase();
      const filtered = products.filter(p => p.name.toLowerCase().includes(q));
      resultInfo.textContent = `Showing ${filtered.length} item${filtered.length!==1?'s':''}`;
      productGrid.innerHTML = '';
      filtered.forEach(p => {
        const card = document.createElement('div'); card.className='card';
        card.innerHTML = `
          <img src="${p.image}" alt="${p.name}" loading="lazy" />
          <div style=\"display:flex;justify-content:space-between;align-items:center\"> <div class=\"title\">${p.name}</div> <div class=\"price\">${formatPrice(p.price)}</div></div>
          <div class=\"muted\">Product description goes here. Simple demo item.</div>
          <div class=\"actions\">
            <button onclick=\"addToCart(${p.id})\">Add to cart</button>
            <button class=\"secondary\" onclick=\"viewDetails(${p.id})\">View</button>
          </div>
        `;
        productGrid.appendChild(card);
      });
    }

    function saveState(){
      try{ localStorage.setItem('mini_shop_cart', JSON.stringify(state.cart)); }catch(e){}
    }
    function loadState(){
      try{ const raw = localStorage.getItem('mini_shop_cart'); if(raw) state.cart = JSON.parse(raw); }catch(e){}
    }

    function renderCart(){
      cartList.innerHTML = '';
      const items = Object.keys(state.cart).map(id => ({...products.find(p=>p.id==id), qty: state.cart[id]}));
      if(items.length===0){ cartList.innerHTML = '<div class="muted">Your cart is empty.</div>'; cartTotal.textContent = formatPrice(0); cartCount.textContent = '0'; return; }
      let total=0; items.forEach(it => {
        total += it.price * it.qty;
        const el = document.createElement('div'); el.className='cart-item';
        el.innerHTML = `
          <img src="${it.image}" alt="${it.name}" />
          <div style=\"flex:1\">
            <div style=\"font-weight:600\">${it.name}</div>
            <div class=\"muted\">${formatPrice(it.price)} × ${it.qty} = ${formatPrice(it.price * it.qty)}</div>
          </div>
          <div class=\"qty\">
            <button class=\"secondary\" onclick=\"changeQty(${it.id}, -1)\">−</button>
            <div>${it.qty}</div>
            <button class=\"secondary\" onclick=\"changeQty(${it.id}, 1)\">+</button>
          </div>
        `;
        cartList.appendChild(el);
      });
      cartTotal.textContent = formatPrice(total);
      cartCount.textContent = items.reduce((s,i)=>s+i.qty,0);
    }

    function addToCart(id){
      state.cart[id] = (state.cart[id]||0)+1; saveState(); renderCart(); }
    function changeQty(id, delta){
      if(!state.cart[id]) return;
      state.cart[id] += delta;
      if(state.cart[id] <= 0) delete state.cart[id];
      saveState(); renderCart();
    }
    function clearCart(){ state.cart = {}; saveState(); renderCart(); }

    function viewDetails(id){
      const p = products.find(x=>x.id==id);
      alert(p.name + '\n\nPrice: ' + formatPrice(p.price) + '\n\nThis is a sample product in the demo.');
    }

    // Simple checkout flow (demo)
    document.getElementById('placeOrder').addEventListener('click', ()=>{
      const items = Object.keys(state.cart);
      if(items.length===0){ alert('Cart is empty — add items first.'); return; }
      // Demo: pretend we place an order
      const summary = items.map(id => {
        const p = products.find(x=>x.id==id); return `${p.name} × ${state.cart[id]}`;
      }).join('\n');
      alert('Order placed!\n\n' + summary + '\n\n( demo only — no payment )');
      clearCart();
    });

    document.getElementById('clearCart').addEventListener('click', clearCart);
    document.getElementById('checkoutBtn').addEventListener('click', ()=>{ document.getElementById('placeOrder').click(); });

    searchInput.addEventListener('input', (e)=>{ state.query = e.target.value; renderProducts(); });

    // init
    loadState(); renderProducts(); renderCart();
  </script>
</body>
</html>
